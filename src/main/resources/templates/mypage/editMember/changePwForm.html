<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>비밀번호 변경</title>
  <link href="/css/common/reset.css" rel="stylesheet" />
  <link href="/css/common/header.css" rel="stylesheet" />
  <link href="/css/common/footer.css" rel="stylesheet" />
  <link href="/css/mypage/editMember/changePwForm.css" rel="stylesheet">
  <script src="/js/logout.js"></script>
</head>

<body>
<div class="header">
  <div class="header_wrapper">
    <div class="header_start">
      <a href="/selectMenu"><img src="/img/logo.png" alt="로고"></a>
    </div>
    <div class="header_center">
      <p class="title_name">비밀번호 변경</p>
    </div>
    <ul class="nav">
      <a href="#" th:text="${session.loginMember.nickname}+'님'"></a>
      <a class="reco" href="#">여행지 검색</a>
      <li class="dropdown">
        <a class="mypage" href="#">마이페이지</a>
        <ul class="dropdown_content">
          <li><a class="myplan" href="/mypage">나의 여행일정</a></li>
          <li><a class="info_edit" href="#">나의 정보수정</a></li>
          <!--        </ul>-->
          <!--      </li>-->

          <a class="logout" href="#" onclick="logout()">로그아웃</a>
        </ul>
    </ul>
  </div>
</div>

<section>
  <div class="section_wrap">
    <div>
      <form id="changePw" action="" method="post">
        <!--        <label for="newPassword">새 비밀번호:</label>-->
        <input type="password" placeholder="새 비밀번호" id="newPassword" name="newPassword" class="input" required>
        <!--        <label for="newPasswordConfirm">새 비밀번호 확인:</label>-->
        <div class="pw-check">
          <input type="password" id="newPasswordConfirm" placeholder="새 비밀번호 재입력" name="newPasswordConfirm" class="input" required>
          <p style="color: black;">
           <p th:if="${message}" th:text="${message}"></p>
           <!-- 에러 메시지 표시 -->
           <span th:if="${error}" id="error" th:text="${error}"></span></p>
          <button type="submit" id="changePw_btn" th:data-member-id="*{memberId}">비밀번호 변경</button>
        </div>


      </form>
      <!--        <p style="color: black;">-->
      <!--          &lt;!&ndash; 에러 메시지 표시 &ndash;&gt;-->
      <!--          <span th:if="${error}" th:text="${error}"></span>-->
      </p>
    </div>
  </div>
</section>

<!-- 푸터 -->
<footer>
  <div class="footer_main">
    <p>트래블메이커</p>
    <p>주소: 울산광역시 남구 삼산로35번길 19 (신정동)</p>
    <p>Tel: 052-123-5678</p>
  </div>
  <!-- 푸터_카피라이트 -->
  <div class="footer_copyright">
    <p>Copyright © TravelMaker. All Rights Reserved.</p>
  </div>
</footer>
<script>

  // //[비밀번호 변경']버튼 클릭시 이동
  document.getElementById('changePw_btn').addEventListener('click', e => {
    const memberId = e.target.dataset.memberId;
    const url = `/members/${memberId}/changePw`;
    location.href = url;
  });

</script>
</body>

</html>